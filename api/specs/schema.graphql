schema {
  query: Query
  mutation: Mutation
}

type ArticleNode implements Node {
  id: ID!
  author: UserNode!
  title: String!
  content: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type ArticleNodeConnection {
  pageInfo: PageInfo!
  edges: [ArticleNodeEdge]!
}

type ArticleNodeEdge {
  node: ArticleNode
  cursor: String!
}

input CreateUserInput {
  userName: String!
  userEmail: String!
  userPassword: String!
  userNickname: String!
  userAvator: String
  clientMutationId: String
}

type CreateUserPayload {
  user: UserNode
  clientMutationId: String
}

scalar DateTime

type Mutation {
  createUser(input: CreateUserInput!): CreateUserPayload
  postArticle(input: PostArticleInput!): PostArticlePayload
}

interface Node {
  id: ID!
}

type PageInfo {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
  endCursor: String
}

input PostArticleInput {
  userId: ID!
  articleTitle: String!
  articleContent: String!
  clientMutationId: String
}

type PostArticlePayload {
  article: ArticleNode
  clientMutationId: String
}

type ProfileNode implements Node {
  id: ID!
  user: UserNode!
  nickname: String!
  avator: String
}

type Query {
  hello: String
  user(id: ID!): UserNode
  allUsers(offset: Int, before: String, after: String, first: Int, last: Int, username: String, profile: ID, dateJoined: DateTime, lastLogin: DateTime): UserNodeConnection
  profile(id: ID!): ProfileNode
  article(id: ID!): ArticleNode
  allArticles(offset: Int, before: String, after: String, first: Int, last: Int, author: ID, title: String, title_Icontains: String, content: String, content_Icontains: String, createdAt: DateTime, createdAt_Lt: DateTime, createdAt_Gt: DateTime, updatedAt: DateTime, updatedAt_Lt: DateTime, updatedAt_Gt: DateTime): ArticleNodeConnection
}

type UserNode implements Node {
  id: ID!
  password: String!
  lastLogin: DateTime
  isSuperuser: Boolean!
  username: String!
  firstName: String!
  lastName: String!
  email: String!
  isStaff: Boolean!
  isActive: Boolean!
  dateJoined: DateTime!
  profile: ProfileNode
  author(offset: Int, before: String, after: String, first: Int, last: Int, author: ID, title: String, title_Icontains: String, content: String, content_Icontains: String, createdAt: DateTime, createdAt_Lt: DateTime, createdAt_Gt: DateTime, updatedAt: DateTime, updatedAt_Lt: DateTime, updatedAt_Gt: DateTime): ArticleNodeConnection!
}

type UserNodeConnection {
  pageInfo: PageInfo!
  edges: [UserNodeEdge]!
}

type UserNodeEdge {
  node: UserNode
  cursor: String!
}
